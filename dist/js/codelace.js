!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).CodeLace={})}(this,(function(t){"use strict";class e{constructor(t){this.element=t}getElement(){return this.element}}class s{static on(t,e,s,i){const n="string"==typeof s,o=n?i:s,l=n?s:void 0,a=e=>{if(!n)return void o(e);const s=e.target;if(!s)return;const i=s.closest(l);i&&t.contains(i)&&o.call(i,e)};t.addEventListener(e,a),this.handlers.push({element:t,eventType:e,handler:o,delegateSelector:l,originalHandler:a})}static off(t,e,s,i){this.handlers.filter((n=>n.element===t&&n.eventType===e&&(!s||("string"==typeof s?n.delegateSelector===s:n.handler===s))&&(!i||n.handler===i))).forEach((t=>{t.element.removeEventListener(t.eventType,t.originalHandler);const e=this.handlers.indexOf(t);e>-1&&this.handlers.splice(e,1)}))}static trigger(t,e,s){const i=new CustomEvent(""+e,{bubbles:!0,cancelable:!0,detail:s});t.dispatchEvent(i)}static removeAll(){this.handlers.forEach((t=>{t.element.removeEventListener(t.eventType,t.originalHandler)})),this.handlers=[]}}function i(t,e,s,i){return new(s||(s=Promise))((function(n,o){function l(t){try{r(i.next(t))}catch(t){o(t)}}function a(t){try{r(i.throw(t))}catch(t){o(t)}}function r(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(l,a)}r((i=i.apply(t,e||[])).next())}))}s.handlers=[],"function"==typeof SuppressedError&&SuppressedError;class n{constructor(t){this.element="string"==typeof t.element?document.querySelector(t.element)||document.body:t.element,this.options=Object.assign(Object.assign({},this.getDefaultOptions()),t),this.init(),n.instances.set(this.element,this)}getDefaultOptions(){return{element:document.body}}init(){this.setupEventListeners()}setupEventListeners(){}destroy(){n.instances.delete(this.element)}static getInstance(t){return n.instances.get(t)}}n.instances=new Map;class o extends e{constructor(t,e={}){super(t),this.options=Object.assign({rtl:!1},e),this.init()}init(){this.options.rtl&&this.element.classList.add(o.CLASSES.RTL),s.on(this.element,"click",o.SELECTORS.COLLAPSE_TOGGLE,(t=>{t.preventDefault(),this.toggleCollapse()})),s.on(this.element,"click",o.SELECTORS.DISMISS,(t=>{t.preventDefault(),this.dismiss()})),document.documentElement.addEventListener("directionchange",(t=>{if(t instanceof CustomEvent){const e="rtl"===t.detail.direction;this.element.classList.toggle(o.CLASSES.RTL,e),this.options.rtl=e}}))}toggleCollapse(){this.element.classList.contains(o.CLASSES.COLLAPSED)?this.expand():this.collapse()}collapse(){const t=this.element.querySelector(o.SELECTORS.BODY);if(!t)return;const e=t.offsetHeight;this.element.classList.add(o.CLASSES.COLLAPSING),this.element.classList.add(o.CLASSES.COLLAPSED),t.style.height=e+"px",t.style.height="0";const i=()=>{t.removeEventListener("transitionend",i),this.element.classList.remove(o.CLASSES.COLLAPSING),t.style.height=""};t.addEventListener("transitionend",i),s.trigger(this.element,"cl.card.collapsed")}expand(){const t=this.element.querySelector(o.SELECTORS.BODY);if(!t)return;t.style.height="0",this.element.classList.add(o.CLASSES.COLLAPSING),this.element.classList.remove(o.CLASSES.COLLAPSED);t.style.height=t.scrollHeight+"px";const e=()=>{t.removeEventListener("transitionend",e),this.element.classList.remove(o.CLASSES.COLLAPSING),t.style.height=""};t.addEventListener("transitionend",e),s.trigger(this.element,"cl.card.expanded")}dismiss(){this.element.classList.remove(o.CLASSES.SHOW);const t=()=>{this.element.removeEventListener("transitionend",t),this.element.remove(),s.trigger(this.element,"cl.card.dismissed")};this.element.addEventListener("transitionend",t)}destroy(){s.off(this.element,"click"),this.element.classList.remove(o.CLASSES.RTL,o.CLASSES.COLLAPSED,o.CLASSES.COLLAPSING,o.CLASSES.SHOW)}}function l(t,e=document){return e.querySelector(t)}function a(t,e=document){return e.querySelectorAll(t)}o.SELECTORS={CARD:".cl-card",HEADER:".cl-card-header",BODY:".cl-card-body",FOOTER:".cl-card-footer",COLLAPSE_TOGGLE:'[data-cl-toggle="collapse"]',DISMISS:'[data-cl-dismiss="card"]'},o.CLASSES={COLLAPSING:"cl-collapsing",COLLAPSED:"cl-collapsed",SHOW:"cl-show",RTL:"cl-rtl"};class r extends e{constructor(t,e={}){super(t),this.options=Object.assign({activeTab:"",rtl:!1},e),this.tabs=Array.from(a('[data-cl-toggle="tab"]',this.element)),this.panes=this.tabs.map((t=>l(t.getAttribute(r.DATA_TARGET))||null)).filter((t=>null!==t)),this.activeTab=null,this.init()}init(){if(this.options.activeTab){const t=this.tabs.find((t=>t.getAttribute(r.DATA_TARGET)===this.options.activeTab));t&&this.activate(t)}else this.tabs.length&&this.activate(this.tabs[0]);s.on(this.element,"click",`[${r.DATA_TOGGLE}="tab"]`,(t=>{t.preventDefault();this.activate(t.currentTarget)})),s.on(this.element,"keydown",`[${r.DATA_TOGGLE}="tab"]`,(t=>{const e=t.target,s=this.options.rtl;let i=null;switch(t.key){case s?"ArrowLeft":"ArrowRight":case"ArrowDown":t.preventDefault(),i=this.getNextTab(e);break;case s?"ArrowRight":"ArrowLeft":case"ArrowUp":t.preventDefault(),i=this.getPreviousTab(e);break;case"Home":t.preventDefault(),i=this.tabs[0];break;case"End":t.preventDefault(),i=this.tabs[this.tabs.length-1]}i&&(i.focus(),this.activate(i))})),document.documentElement.addEventListener("directionchange",(t=>{t instanceof CustomEvent&&(this.options.rtl="rtl"===t.detail.direction)}))}activate(t){if(this.activeTab===t)return;this.activeTab&&this.deactivate(this.activeTab);const e=l(t.getAttribute(r.DATA_TARGET));e&&(t.classList.add(r.ACTIVE_CLASS),t.setAttribute("aria-selected","true"),t.removeAttribute("tabindex"),e.classList.add(r.ACTIVE_CLASS),e.classList.contains(r.FADE_CLASS)&&e.classList.add(r.SHOW_CLASS),this.activeTab=t,s.trigger(t,"cl.tab.shown",{relatedTarget:e}))}deactivate(t){const e=l(t.getAttribute(r.DATA_TARGET));e&&(t.classList.remove(r.ACTIVE_CLASS),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1"),e.classList.remove(r.ACTIVE_CLASS),e.classList.contains(r.FADE_CLASS)&&e.classList.remove(r.SHOW_CLASS),s.trigger(t,"cl.tab.hidden",{relatedTarget:e}))}getNextTab(t){const e=this.tabs.indexOf(t);return this.tabs.length-1>e?this.tabs[e+1]:this.tabs[0]}getPreviousTab(t){const e=this.tabs.indexOf(t);return e>0?this.tabs[e-1]:this.tabs[this.tabs.length-1]}destroy(){s.off(this.element,"click"),s.off(this.element,"keydown"),this.tabs.forEach((t=>{t.classList.remove(r.ACTIVE_CLASS),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex")})),this.panes.forEach((t=>{t.classList.remove(r.ACTIVE_CLASS,r.SHOW_CLASS)}))}}r.DATA_TOGGLE="data-cl-toggle",r.DATA_TARGET="data-cl-target",r.ACTIVE_CLASS="cl-active",r.FADE_CLASS="cl-fade",r.SHOW_CLASS="cl-show";class c extends e{constructor(t,e={}){super(t),this.options=Object.assign({keyboard:!0,backdrop:!0,focus:!0,rtl:!1},e),this.dialog=l(c.SELECTORS.DIALOG,this.element),this.backdrop=null,this.isShown=!1,this.isTransitioning=!1,this.ignoreBackdropClick=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.init()}init(){this.options.rtl&&this.element.classList.add(c.CLASSES.RTL),s.on(this.element,"click",c.SELECTORS.DATA_DISMISS,(t=>{t.preventDefault(),this.hide()})),document.documentElement.addEventListener("directionchange",(t=>{if(t instanceof CustomEvent){const e="rtl"===t.detail.direction;this.element.classList.toggle(c.CLASSES.RTL,e),this.options.rtl=e}})),this.dialog||this.createModalStructure()}createModalStructure(){const t=document.createElement("div");t.className="cl-modal-dialog";const e=document.createElement("div");e.className="cl-modal-content";const s=document.createElement("div");s.className="cl-modal-header";const i=document.createElement("h5");i.className="cl-modal-title",i.textContent=this.element.getAttribute("data-cl-title")||"Modal Title";const n=document.createElement("button");n.className="cl-btn-close",n.setAttribute("data-cl-dismiss","modal"),n.setAttribute("aria-label","Close");const o=document.createElement("div");for(o.className="cl-modal-body";this.element.firstChild;)o.appendChild(this.element.firstChild);s.appendChild(i),s.appendChild(n),e.appendChild(s),e.appendChild(o),t.appendChild(e),this.element.appendChild(t),this.dialog=t}adjustDialog(){const t=this.element.scrollHeight>document.documentElement.clientHeight;!this.isBodyOverflowing&&t&&(this.element.style.paddingLeft=this.scrollbarWidth+"px"),this.isBodyOverflowing&&!t&&(this.element.style.paddingRight=this.scrollbarWidth+"px")}setScrollbar(){const t=document.body.getBoundingClientRect();this.isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this.originalBodyPadding=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"))||0,this.isBodyOverflowing&&(document.body.style.paddingRight=this.originalBodyPadding+this.scrollbarWidth+"px")}resetScrollbar(){document.body.style.paddingRight=this.originalBodyPadding+"px"}createBackdrop(){const t=document.createElement("div");t.className=`${c.SELECTORS.BACKDROP} ${c.CLASSES.FADE}`,this.backdrop=t,document.body.appendChild(t),t.addEventListener("transitionend",(()=>{this.element&&this.element.focus()}),{once:!0}),setTimeout((()=>{this.backdrop&&this.backdrop.classList.add(c.CLASSES.SHOW)}),0)}removeBackdrop(){this.backdrop&&(this.backdrop.classList.remove(c.CLASSES.SHOW),this.backdrop.addEventListener("transitionend",(()=>{var t,e;null===(e=null===(t=this.backdrop)||void 0===t?void 0:t.parentNode)||void 0===e||e.removeChild(this.backdrop),this.backdrop=null}),{once:!0}))}show(){this.isShown||this.isTransitioning||(this.isAnimated()&&(this.isTransitioning=!0),document.body.classList.add(c.CLASSES.OPEN),this.setScrollbar(),this.adjustDialog(),this.options.backdrop&&this.createBackdrop(),this.element.style.display="block",this.element.removeAttribute("aria-hidden"),this.element.setAttribute("aria-modal","true"),this.element.setAttribute("role","dialog"),this.dialog&&(this.dialog.scrollTop=0),this.isAnimated(),this.element.classList.add(c.CLASSES.SHOW),this.isShown=!0,s.trigger(this.element,"cl.modal.shown"))}hide(){this.isShown&&!this.isTransitioning&&(this.isAnimated()&&(this.isTransitioning=!0),this.element.classList.remove(c.CLASSES.SHOW),this.isAnimated()?this.awaitTransition((()=>this.hideModal())):this.hideModal())}hideModal(){this.element.style.display="none",this.element.setAttribute("aria-hidden","true"),this.element.removeAttribute("aria-modal"),this.isTransitioning=!1,this.removeBackdrop(),document.body.classList.remove(c.CLASSES.OPEN),this.resetScrollbar(),this.isShown=!1,s.trigger(this.element,"cl.modal.hidden")}awaitTransition(t){this.isAnimated()?this.element.addEventListener("transitionend",(()=>{t()}),{once:!0}):t()}isAnimated(){return this.element.classList.contains(c.CLASSES.FADE)}destroy(){var t;this.isShown&&this.hide(),s.off(this.element,"click"),this.backdrop&&(null===(t=this.backdrop.parentNode)||void 0===t||t.removeChild(this.backdrop)),this.element.classList.remove(c.CLASSES.RTL)}}c.SELECTORS={DIALOG:".cl-modal-dialog",MODAL_BODY:".cl-modal-body",DATA_DISMISS:'[data-cl-dismiss="modal"]',DATA_TOGGLE:'[data-cl-toggle="modal"]',FIXED_CONTENT:".cl-fixed-top, .cl-fixed-bottom, .cl-is-fixed, .cl-sticky-top",STICKY_CONTENT:".cl-sticky-top",BACKDROP:"cl-modal-backdrop"},c.CLASSES={OPEN:"cl-modal-open",FADE:"cl-fade",SHOW:"cl-show",RTL:"cl-rtl",STATIC:"cl-modal-static"};class d extends e{constructor(t,e={}){super(t),this.options=Object.assign({rtl:!1,breakpoint:"lg",sticky:!1,fixed:null},e),this.collapse=l(d.SELECTORS.COLLAPSE,this.element),this.init()}init(){this.options.rtl&&this.element.classList.add(d.CLASSES.RTL),this.options.sticky?this.element.classList.add(d.CLASSES.STICKY):"top"===this.options.fixed?this.element.classList.add(d.CLASSES.FIXED_TOP):"bottom"===this.options.fixed&&this.element.classList.add(d.CLASSES.FIXED_BOTTOM),s.on(this.element,"click",d.SELECTORS.TOGGLE,(t=>{t.preventDefault(),this.toggleCollapse()})),s.on(this.element,"click",d.SELECTORS.DROPDOWN_TOGGLE,(t=>{t.preventDefault();this.toggleDropdown(t.currentTarget)})),document.documentElement.addEventListener("directionchange",(t=>{if(t instanceof CustomEvent){const e="rtl"===t.detail.direction;this.element.classList.toggle(d.CLASSES.RTL,e),this.options.rtl=e}})),document.addEventListener("click",(t=>{this.element.contains(t.target)||this.closeAllDropdowns()}))}toggleCollapse(){if(!this.collapse)return;this.collapse.classList.contains(d.CLASSES.SHOW)?this.closeCollapse():this.openCollapse()}openCollapse(){this.collapse&&(this.collapse.classList.add(d.CLASSES.SHOW),s.trigger(this.element,"cl.navbar.shown"))}closeCollapse(){this.collapse&&(this.collapse.classList.remove(d.CLASSES.SHOW),s.trigger(this.element,"cl.navbar.hidden"))}toggleDropdown(t){const e=t.closest(d.SELECTORS.DROPDOWN);if(!e)return;const i=e.classList.contains(d.CLASSES.SHOW);this.closeAllDropdowns(),i||(e.classList.add(d.CLASSES.SHOW),s.trigger(e,"cl.navbar.dropdown.shown"))}closeAllDropdowns(){this.element.querySelectorAll(d.SELECTORS.DROPDOWN).forEach((t=>{t.classList.contains(d.CLASSES.SHOW)&&(t.classList.remove(d.CLASSES.SHOW),s.trigger(t,"cl.navbar.dropdown.hidden"))}))}destroy(){s.off(this.element,"click"),this.element.classList.remove(d.CLASSES.RTL,d.CLASSES.STICKY,d.CLASSES.FIXED_TOP,d.CLASSES.FIXED_BOTTOM),this.collapse&&this.collapse.classList.remove(d.CLASSES.SHOW),this.closeAllDropdowns()}}d.SELECTORS={TOGGLE:'[data-cl-toggle="navbar"]',COLLAPSE:".cl-navbar-collapse",DROPDOWN_TOGGLE:'[data-cl-toggle="dropdown"]',DROPDOWN:".cl-dropdown",DROPDOWN_MENU:".cl-dropdown-menu"},d.CLASSES={SHOW:"cl-show",COLLAPSED:"cl-collapsed",STICKY:"cl-sticky",FIXED_TOP:"cl-fixed-top",FIXED_BOTTOM:"cl-fixed-bottom",RTL:"cl-rtl"};class h extends e{constructor(t,e={}){super(t),this.options=Object.assign({rtl:!1,placement:"bottom",offset:[0,0],reference:"toggle"},e),this.menu=l(h.SELECTORS.MENU,this.element),this.isOpen=!1,this.init()}init(){if(this.options.rtl&&this.element.classList.add(h.CLASSES.RTL),this.menu){const t=this.getPlacementClass();t&&this.menu.classList.add(t)}s.on(this.element,"click",h.SELECTORS.TOGGLE,(t=>{t.preventDefault(),this.toggle()})),s.on(this.element,"keydown",h.SELECTORS.TOGGLE,(t=>this.handleKeyDown(t))),document.documentElement.addEventListener("directionchange",(t=>{if(t instanceof CustomEvent){const e="rtl"===t.detail.direction;this.element.classList.toggle(h.CLASSES.RTL,e),this.options.rtl=e,this.updatePlacement()}})),document.addEventListener("click",(t=>{!this.element.contains(t.target)&&this.isOpen&&this.hide()}))}getPlacementClass(){const{placement:t}=this.options;switch(t){case"top":return h.CLASSES.PLACEMENT.TOP;case"bottom":default:return h.CLASSES.PLACEMENT.BOTTOM;case"start":return this.options.rtl?h.CLASSES.PLACEMENT.END:h.CLASSES.PLACEMENT.START;case"end":return this.options.rtl?h.CLASSES.PLACEMENT.START:h.CLASSES.PLACEMENT.END}}updatePlacement(){if(!this.menu)return;Object.values(h.CLASSES.PLACEMENT).forEach((t=>{var e;null===(e=this.menu)||void 0===e||e.classList.remove(t)}));const t=this.getPlacementClass();t&&this.menu.classList.add(t)}handleKeyDown(t){if(!this.menu)return;const e=Array.from(a(h.SELECTORS.ITEM,this.menu)),s=this.options.rtl;switch(t.key){case"ArrowDown":t.preventDefault(),this.focusNextItem(e);break;case"ArrowUp":t.preventDefault(),this.focusPreviousItem(e);break;case s?"ArrowLeft":"ArrowRight":t.preventDefault(),this.isOpen?this.focusNextItem(e):this.show();break;case s?"ArrowRight":"ArrowLeft":t.preventDefault(),this.isOpen?this.focusPreviousItem(e):this.hide();break;case"Enter":case" ":t.preventDefault(),this.toggle();break;case"Escape":t.preventDefault(),this.hide()}}focusNextItem(t){const e=document.activeElement,s=t.indexOf(e);t[-1===s?0:(s+1)%t.length].focus()}focusPreviousItem(t){const e=document.activeElement,s=t.indexOf(e);t[-1===s?0:(s-1+t.length)%t.length].focus()}show(){if(!this.menu||this.isOpen)return;this.menu.classList.add(h.CLASSES.SHOW),this.isOpen=!0;const t=l(h.SELECTORS.TOGGLE,this.element);t&&t.setAttribute("aria-expanded","true");const e=l(h.SELECTORS.ITEM,this.menu);e&&e.focus(),s.trigger(this.element,"cl.dropdown.shown")}hide(){if(!this.menu||!this.isOpen)return;this.menu.classList.remove(h.CLASSES.SHOW),this.isOpen=!1;const t=l(h.SELECTORS.TOGGLE,this.element);t&&t.setAttribute("aria-expanded","false"),s.trigger(this.element,"cl.dropdown.hidden")}toggle(){this.isOpen?this.hide():this.show()}destroy(){s.off(this.element,"click"),s.off(this.element,"keydown"),this.element.classList.remove(h.CLASSES.RTL),this.menu&&this.menu.classList.remove(h.CLASSES.SHOW,...Object.values(h.CLASSES.PLACEMENT)),this.isOpen=!1}}h.SELECTORS={TOGGLE:'[data-cl-toggle="dropdown"]',MENU:".cl-dropdown-menu",ITEM:".cl-dropdown-item",DIVIDER:".cl-dropdown-divider"},h.CLASSES={SHOW:"cl-show",RTL:"cl-rtl",PLACEMENT:{TOP:"cl-dropdown-menu-top",BOTTOM:"cl-dropdown-menu-bottom",START:"cl-dropdown-menu-start",END:"cl-dropdown-menu-end"}};const m={isRTL:()=>"rtl"===document.documentElement.dir,setDirection(t){document.documentElement.dir=t,document.documentElement.dispatchEvent(new CustomEvent("directionchange",{detail:{direction:t},bubbles:!0}))},getDirection:()=>document.documentElement.dir,onDirectionChange(t){const e=e=>{e instanceof CustomEvent&&t(e.detail.direction)};return document.documentElement.addEventListener("directionchange",e),()=>document.documentElement.removeEventListener("directionchange",e)},getLogicalToPhysical(t=document.documentElement.dir){const e="rtl"===t;return{start:e?"right":"left",end:e?"left":"right",marginStart:e?"margin-right":"margin-left",marginEnd:e?"margin-left":"margin-right",paddingStart:e?"padding-right":"padding-left",paddingEnd:e?"padding-left":"padding-right",borderStart:e?"border-right":"border-left",borderEnd:e?"border-left":"border-right"}}};document.addEventListener("DOMContentLoaded",(()=>{document.documentElement.dir||(document.documentElement.dir="ltr"),document.documentElement.classList.add("cl-rtl-detected")})),t.Alert=class extends n{constructor(){super(...arguments),this.closeButton=null}getDefaultOptions(){return Object.assign(Object.assign({},super.getDefaultOptions()),{dismissible:!0,duration:0,onClose:()=>{}})}init(){var t;if(!(this.element instanceof HTMLElement))return;((t,...e)=>{t.classList.add(...e)})(this.element,"cl-alert"),this.options.dismissible&&this.setupDismissButton();const e=null!==(t=this.options.duration)&&void 0!==t?t:0;e>0&&setTimeout((()=>this.close()),e)}setupDismissButton(){this.element instanceof HTMLElement&&(this.closeButton=document.createElement("button"),this.closeButton.className="cl-alert-close",this.closeButton.innerHTML="&times;",this.closeButton.addEventListener("click",(()=>this.close())),this.element.appendChild(this.closeButton))}close(){return i(this,void 0,void 0,(function*(){var t,e;this.element instanceof HTMLElement&&(yield((t,e=300)=>new Promise((s=>{const i=performance.now(),n=parseFloat(getComputedStyle(t).opacity),o=l=>{const a=(l-i)/e;t.style.opacity=""+Math.max(n-a,0),1>a?requestAnimationFrame(o):(t.style.display="none",s())};requestAnimationFrame(o)})))(this.element),this.element.remove(),null===(e=(t=this.options).onClose)||void 0===e||e.call(t))}))}destroy(){this.closeButton&&this.closeButton.removeEventListener("click",(()=>this.close())),super.destroy()}},t.Card=o,t.Component=e,t.Dropdown=h,t.EventHandler=s,t.Modal=c,t.Navbar=d,t.RTL=m,t.Tab=r}));
//# sourceMappingURL=codelace.js.map
