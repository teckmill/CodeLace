@use "sass:math";
@use "sass:map";
@use "sass:color";

// Breakpoint mixins
@mixin breakpoint-up($name) {
  $min: map.get($breakpoints, $name);
  @media (min-width: $min) {
    @content;
  }
}

@mixin breakpoint-down($name) {
  $max: map.get($breakpoints, $name);
  @media (max-width: $max) {
    @content;
  }
}

// Flexbox utilities
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

// Typography
@mixin font-size($size) {
  font-size: $size;
  line-height: $line-height-base;
}

// Transitions
@mixin transition($property: all) {
  transition: $property $transition-base;
}

// Shadows
@mixin box-shadow($shadow: $box-shadow) {
  box-shadow: $shadow;
}

// RTL property mixin
@mixin rtl-property($property, $value) {
  #{$property}: $value;
  [dir="rtl"] & {
    #{if($property == "padding-left", "padding-right",
         if($property == "padding-right", "padding-left",
         if($property == "margin-left", "margin-right",
         if($property == "margin-right", "margin-left",
         if($property == "border-left", "border-right",
         if($property == "border-right", "border-left",
         if($property == "left", "right",
         if($property == "right", "left", $property))))))))}:
    $value;
  }
}

// Grid column
@mixin make-col($size, $columns: $grid-columns) {
  flex: 0 0 math.percentage(math.div($size, $columns));
  max-width: math.percentage(math.div($size, $columns));
}

// Button variants
@mixin button-variant(
  $background,
  $border,
  $hover-background: color.adjust($background, $lightness: -7.5%),
  $hover-border: color.adjust($border, $lightness: -10%)
) {
  color: color.adjust($background, $lightness: 90%);
  background-color: $background;
  border-color: $border;

  &:hover {
    color: color.adjust($hover-background, $lightness: 90%);
    background-color: $hover-background;
    border-color: $hover-border;
  }

  &:focus {
    box-shadow: 0 0 0 0.2rem color.adjust($background, $alpha: -0.5);
  }

  &:active {
    background-color: color.adjust($background, $lightness: -10%);
    border-color: color.adjust($border, $lightness: -12.5%);
  }

  &:disabled {
    background-color: color.adjust($background, $lightness: 20%);
    border-color: color.adjust($border, $lightness: 20%);
  }
}
